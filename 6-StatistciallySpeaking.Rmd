---
title: "Final Project STAT167"
author: |
  Group: Statistically Speaking  
  Shreya Mohan, Kalyani Mantirraju, Crystal Arevalo,  
  Karen Alvarez, Mason Lam
date: "06/02/2025"
output:
  pdf_document:
    latex_engine: xelatex
  html_document:
    df_print: paged
editor_options:
  chunk_output_type: inline
---

## Libraries

```{r, results = 'hide', message=FALSE}

# install.packages("dunn.test")
# install.packages("multcomp")
# install.packages("nortest")
# install.packages("rstatix")
# install.packages("mgcv")
#install.packages("gridExtra")
library(mgcv)
library(rstatix)
library(nycflights13)
library(tidyverse)
library(car)
library(dunn.test)
library(gridExtra)
library(tidyr)
library(broom)
library(multcomp)
library(nortest)
library(boot)
library(knitr)
library(gridExtra)
```

# Project Description:

The primary goal of this research is to explore factors influencing flight delays from New City airports in 2013.

## Problem Statement and Motivation

Understanding factors that contribute to flight delays is critical for informing Federal Aviation Administration (FAA) policies and guiding airlines and airports in improving operational efficiency, enhancing weather preparedness, and reducing delays through controllable factors. By analyzing weather conditions, airline differences, holiday effects, fleet age, and airport specific challenges, this research can provide data-driven insights to optimize air travel and ensure compliance with aviation regulations in heavily congested areas like New York City.

## Research Questions

1.  How do weather conditions affect flight delays?
2.  How do differences between airlines influence flight delays?
3.  Are delays more frequent during major holidays?
4.  Does the age of the plane affect flight delays?
5.  How do environmental factors like humidity, visibility, and wind affect flight delays?

[View our GitHub Repository](https://github.com/shreyyaa123/STAT167FinalProject/tree/main)

# Datasets

## 1. Flights dataset: All flights that departed from NYC in 2013

### Variables:

-   flights ( year, month, day, dep_time, arr_time, sched_dep_time, sched_arr_time, dep_delay, arr_delay, carrier, origin, dest, air_time, distance, time_hour )
    -   year, month, day : date of departure
    -   dep_time, arr_time : actual departure and arrival times in HHMM
    -   sched_dep_time, sched_arr_time : scheduled departure and arrival times in HHMM
    -   dep_delay, arr_delay : departure and arrival delays in minutes
    -   carrier : two letter carrier abbreviation of the carrier
    -   origin, dest : origin and destination
    -   air_time : amount of time spent in air in minutes
    -   distance : distance between airport in miles
    -   time_hour : scheduled date and hour of the flight as POSIXct date

## 2. Airlines dataset: Translation between two letter carrier codes and names

### Variables:

-   airlines ( carrier, name )
    -   carrier : two-letter abbreviation of the airlines
    -   name : full name of the airlines

## 3. Airports dataset: Airport names and locations

### Variables:

-   airports ( faa, name, lat, lon )
    -   faa : FAA airport code
    -   name : usual name of the airport
    -   lat, lon : location of airport

## 4. Planes dataset: Construction information about each plane

### Variables:

-   planes ( year, type, manufacturer, model, engines, seats, speed, engine )
    -   year : year manufactured
    -   type : type of plane
    -   manufacturer, model : manufacturer and model
    -   engines, seats : number of engines and seats
    -   speed : average cruising speed in mph
    -   engine : type in engine

## 5. Weather dataset: Hourly meterological data for each airport

### Variables:

-   weather ( origin, year, month, day, hour, temp, dewp, humid, wind_dir, wind_speed, wind_gust, precip, pressure, visib, time_hour )
    -   origin : weather station
    -   year, month, day, hour : time of recording
    -   temp, dewp : temperature and dew point in Fahrenheit
    -   humid : relative humidity
    -   wind_dir, wind_speed, wind_gust : wind direction in degrees, wind speed and gust in mph
    -   precip : precipitation in inches
    -   pressure : sea level pressure in millibars
    -   visib : visibility in miles
    -   time_hour : date and hour of the recording as POSIXct date

\newpage

# Exploratory Data Analysis

## Planes Dataset EDA

```{r, echo=FALSE}

cat("\nMissing values per column:\n")
print(colSums(is.na(planes)))

cat("\nColumn types and structure:\n")
print(glimpse(planes))

cat("\nFirst few rows:\n")
print(head(planes))
```

```{r, fig.width=5, fig.height=3}

planes %>%
  count(manufacturer, sort = TRUE) %>%
  top_n(10) %>%
  ggplot(aes(x = reorder(manufacturer, n), y = n)) +
  geom_col(fill = "darkgreen") +
  coord_flip() +
  labs(title = "Top 10 Plane Manufacturers", x = "Manufacturer", y = "Number of Planes")

```

The visualization above shows the top 10 plane manufacturers present in the data-set. Boeing has the largest amount of planes with approximately 1750 planes, and Airbus has the second most with approximately 400 planes.

```{r, warning = FALSE, fig.width=5, fig.height=3}

ggplot(planes, aes(x = year)) +
  geom_histogram(binwidth = 1, fill = "midnightblue", color = "white") +
  labs(title = "Distribution of Plane Manufacture Years", x = "Year", y = "Count")

```

This histogram shows the distribution of plane manufacture years, with the majority of planes built between the mid-1990s and early 2000s. There is a notable peak around the year 2000, indicating a surge in plane production during that period.

## Airlines Dataset EDA

Dimensions and column names of the airlines dataset

```{r, echo=FALSE}

cat("\nMissing values per column:\n")
print(colSums(is.na(airlines)))

cat("\nColumn types and structure:\n")
print(glimpse(airlines))

cat("\nFirst few rows:\n")
print(head(airlines))

```

Viewing all the Unique Airlines:

```{r}
airlines %>%
  arrange(name)
```

```{r, fig.width=5, fig.height=3}
# Join flights and airline names
flights_airlines <- flights %>%
  left_join(airlines, by = "carrier")

# Average delay metrics
avg_delays <- flights_airlines %>%
  group_by(name) %>%
  summarise(
    avg_dep_delay = mean(dep_delay, na.rm = TRUE),
    avg_arr_delay = mean(arr_delay, na.rm = TRUE),
    flights = n()
  )

# Plot: Departure Delay
ggplot(avg_delays, aes(x = reorder(name, avg_dep_delay), y = avg_dep_delay)) +
  geom_col(fill = "tomato") +
  coord_flip() +
  labs(
    title = "Average Departure Delay by Airline",
    x = "Airline",
    y = "Avg Departure Delay (min)"
  )

```

We can see that on average, Frontier Airlines has the most departure delay at around 20 min, with ExpressJet roughly around the same 20 minutes. Less than half the Airlines seem to be past the 13 minute delay mark.

```{r, fig.width=5, fig.height=3}

cancel_rate <- flights_airlines %>%
  mutate(cancelled = is.na(dep_delay)) %>%
  group_by(name) %>%
  summarise(cancel_rate = mean(cancelled), total_flights = n())

ggplot(cancel_rate, aes(x = reorder(name, cancel_rate), y = cancel_rate)) +
  geom_col(fill = "orange") +
  coord_flip() +
  labs(
    title = "Cancelation Rate by Airline",
    x = "Airline",
    y = "Cancelation Rate"
  )

```

As we can see from above, Skywest Airlines Inc has the highest cancellation rate, with Mesa Airlines very closely behind, and a huge drop off at Endeavor Air Inc. 

## Flights Dataset EDA:

```{r, echo=FALSE}
cat("\nMissing values per column:\n")
print(colSums(is.na(flights)))

cat("\nColumn types and structure:\n")
print(glimpse(flights))

cat("\nFirst few rows:\n")
print(head(flights))
```

Most of our analysis is based on how other variables and datasets affect and compare to the flights dataset. We are seeing how the arrival time, departure delay time, departure time, arrival delay time, and other variables are affected.

flights that were not canceled - We will be using these the not_canceled data for the rest of the EDA

```{r}
not_canceled <- filter(flights, !is.na(dep_delay), !is.na(arr_delay))
not_canceled
```

Basic delay analysis
Distribution and Proportion of delayed flights that were not canceled

```{r}
#histograms
hist(not_canceled$dep_delay, breaks=100, main = "Departure Delays",xlab = "Minutes")
hist(not_canceled$arr_delay, breaks=100, main ="Arrival Delays", xlab = "Minutes")

#proportions
mean(not_canceled$dep_delay>0, na.rm=TRUE)
mean(not_canceled$arr_delay>0, na.rm=TRUE)
```

Most of the departure delays do not go over 200 minutes and the arrival delays have very few delays past 200 minutes.


```{r, fig.width=5, fig.height=3}

#convert time to hours
not_canceled$dep_hour <-floor(not_canceled$sched_dep_time/100)
not_canceled$arr_hour <-floor(not_canceled$sched_arr_time/100)

#plot
not_canceled |>
  group_by(dep_hour) |>
  summarize(mean_dep_delay = mean(dep_delay, na.rm=TRUE))|>
  ggplot(aes(x=dep_hour, y =mean_dep_delay))+
  geom_line()+
  geom_point()+
  labs(title = "Average Departure Delay by Hour", x="Scheduled Departure", y="Minutes")
```

We can see that many of the delays happen further in the day and peak at about 18 hours and then it descends from there.


```{r}

not_canceled |>
  group_by(origin)|>
  summarize(avg_dep_delay= mean(dep_delay, na.rm=TRUE), avg_arr_delay= mean(arr_delay, na.rm=TRUE))

```

EWR has the highest average departure and arrival delay followed by JFK and then LGA


```{r}

not_canceled|>
  group_by(carrier)|>
  summarize(avg_dep_delay = mean(dep_delay, na.rm=TRUE))|>
  arrange(desc(avg_dep_delay))

```

F9 has the highest average departure delay at 20 hours.

Check to see if the flights that were delayed made up the time in the air

```{r, fig.width=5, fig.height=3}
not_canceled|>
  mutate(made_up_time = dep_delay- arr_delay)|>
  ggplot(aes(x=made_up_time))+
  geom_histogram(bins=100)+
  labs(title="Made up Time in Air", x= "Minutes Saved", y="Count")

```

We can see that the majority of the flights did not save any minutes on the arrival delay and actually ended up being delayed more. Some flights did in fact save minutes but it was less than 50% of all flights.


```{r monthly_dep_delay_plot, fig.width=5, fig.height=3}
not_canceled |>
  group_by(month) |>
  summarize(mean_dep_delay = mean(dep_delay, na.rm = TRUE)) |>
  ggplot(aes(x = month, y = mean_dep_delay)) +
  geom_line() +
  geom_point() +
  labs(title = "Monthly Departure Delays", x = "Month", y = "Time (minutes)")
```

we see that the majority of flights are delayed from May to mid July, and there is another peak at December. The months with the shorest delays are September and October.

##### Does distance affect the amount of delays?

```{r, fig.width=5, fig.height=3}

ggplot(not_canceled, aes(x=distance, y=dep_delay))+
  geom_point(alpha=0.2)+
  geom_smooth(method = "lm", se=TRUE,color= "Pink")+
  labs(title = "Distance vs Departure Delay", x="Distance", y="Departure Delay")

```

We can see that there is not much of an effect of Distance on Departure delay.

##### Flights traveled the longest by distance

```{r}

longest_Distance <- not_canceled |>
  arrange(desc(distance)) |>
  dplyr::select(carrier, origin, dest)
longest_Distance

```

We see that HA is the carrier with the longest flights and they all start at JFK airport and land at HNL.


```{r avg_arr_delay_plot, fig.width=8, fig.height=5}
carrier_Dest <- not_canceled |>
  group_by(carrier, dest) |>
  summarize(avg_arr_Delay = mean(arr_delay, na.rm = TRUE), .groups = "drop")

ggplot(carrier_Dest, aes(x = reorder(carrier, avg_arr_Delay, median), y = avg_arr_Delay)) +
  geom_boxplot() +
  coord_flip() +
  labs(title = "Average Arrival Delay by Carrier", x = "Carrier", y = "Average Arrival Delay (minutes)") +
  theme_minimal()
```

## Weather Dataset EDA

```{r, echo = FALSE}

cat("\nMissing values per column:\n")
print(colSums(is.na(weather)))

cat("\nColumn types and structure:\n")
print(glimpse(weather))

cat("\nFirst few rows:\n")
print(head(weather))
```

Related Questions from our Proposal:
1) How do weather conditions affect flight delays? 
2) How do environmental factors like humidity, visibility, and wind affect flight delays? 
3) What impact does precipitation have on specific airports and weather-related delays? 

```{r, fig.width=5, fig.height=3}

# Average Temperature by Month

monthlyavgtemp <- weather %>%
  group_by(month) %>%
  summarise(monthlyavgtemp = mean(temp, na.rm = TRUE))

ggplot(data = monthlyavgtemp,
       aes(x = factor(month), y = monthlyavgtemp)) +
  geom_col(color = "skyblue", fill = "lightskyblue1") + 
  labs(title = "Average Temperature by Month",
       x = "Month",
       y = "Average Temperature (Fº)") +
  theme_minimal()
```

We can see that the average temperature ranges from about 70-80º in the summer, and 35-40º in the winter. When answering our research questions, we can see if there is a correlation between summer/winter weather and flight delays.

```{r, fig.width=5, fig.height=3}

# Average Visibility by Month

monthlyavgvisib <- weather %>%
  group_by(month) %>%
  summarise(monthlyavgvisib = mean(visib, na.rm = TRUE))

ggplot(data = monthlyavgvisib) +
    geom_col(aes(x = factor(month), y = monthlyavgvisib),
                   color = "orchid4", fill = "plum") + 
  labs(title = "Average Visibility by Month",
       x = "Month",
       y = "Average Visibility") +
  theme_minimal()

ggplot(weather, aes(x = factor(month), y = visib)) +
  geom_boxplot(fill = "plum", color = "orchid4") +
  labs(title = "Distribution of Visibility by Month",
       x = "Month",
       y = "Visibility") +
  coord_flip() +
  theme_minimal()

ggplot(filter(weather, visib < 10), aes(x = factor(month), y = visib)) +
  geom_boxplot(fill = "plum", color = "orchid4") +
  labs(title = "Distribution of Visibility < 10 by Month",
       x = "Month",
       y = "Visibility") +
  coord_flip() +
  theme_minimal()

```

The average visibility does not greatly vary by month looking at the average value. However, we can see that there is slightly less visiblity in winter months. Looking at the boxplots, we can see that there are a lot of outliers. Removing these outliers and focusing on visib < 10 shows us a better distribution of visiblity. When answering our research questions, we can compare the average visibility during flight delays vs average visibility without flight delays to further explore the role of visibility in flight delays. 

```{r, warning = FALSE, fig.width=5, fig.height=3}

# Distribution of Humidity by Month

ggplot(weather, aes(x = factor(month), y = humid)) +
  geom_boxplot(fill = "darkseagreen2", color = "darkgreen") +
  labs(title = "Distribution of Humidity by Month (With Outliers)",
       x = "Month",
       y = "Humidity") +
  coord_flip() +
  theme_minimal()

```

The distribution of humidity varies by month, but there does not seem to be significant differences. We can further explore the role of humidity by comparing it to other weather variables and flight delays.

```{r, fig.width=5, fig.height=3}

# Precipitation by Month

monthlyprecip <- weather %>%
  group_by(month) %>%
  summarise(avgmonthlyprecip = mean(precip, na.rm = TRUE))

ggplot(monthlyprecip, aes(x = month, y = avgmonthlyprecip)) +
  geom_line(color = "palevioletred2") +
  geom_point(color = "palevioletred4") +
  labs(title = "Average Monthly Precipitation",
       x = "Month",
       y = "Average Precipitation") +
  scale_x_continuous(breaks = 1:12) +
  theme_minimal()

```

The average precipitation for each month varies greatly. We can see that spring months have the greatest average precipitation. When answering our research question, we can see if greater precipitation correlates to flight delays. 

```{r}

# Correlation Between Variables

cor(weather$precip, weather$visib, use = "complete.obs")
cor(weather$humid, weather$visib, use = "complete.obs")

```

We can explore the correlation between different weather variables and see how they may work together to impact flight delays.

## Airport Dataset EDA

```{r}
cat("\nMissing values per column:\n")
print(colSums(is.na(airports)))

cat("\nColumn types and structure:\n")
print(glimpse(airports))

cat("\nFirst few rows:\n")
print(head(airports))
```

```{r, warning=FALSE, fig.width=5, fig.height=3}
# Looking at the variation of flight delays between airports

flights_mod <- flights |>
  mutate(month = factor(month, levels = 1:12, labels = month.abb))

delays_airport <- flights_mod |>
  group_by(origin) |>
  summarise(mean_delay = mean(dep_delay, na.rm = TRUE),
            median_delay = median(dep_delay, na.rm = TRUE),
            sd_delay = sd(dep_delay, na.rm = TRUE))
airport_avg_delay <- ggplot(delays_airport, aes(x = origin, y = mean_delay, fill = origin)) +
  geom_bar(stat = "identity", show.legend = FALSE) +
  labs(title = "Average Flight Delays by Airport", x = "Airport", y = "Average Delay (minutes)")

# Looking at variation of cancelled flights by airports over a period of 12 months 

cancelled_flights <- flights_mod |>
  filter(!is.na(month)) |>
  group_by(origin, month) |>
  summarise(cancelled = sum(is.na(dep_time)))

airport_cancelled_month <- ggplot(cancelled_flights, aes(x = month, y = cancelled, fill = origin)) +
  geom_bar(stat = "identity", position = "dodge", show.legend = FALSE) +
  facet_wrap(~origin) +
  coord_flip() +
  labs(title = "Cancelled flights by Airport and by Month", x = "Month", y = "Number of Cancelled Flights")

# Looking at the flight patterns for each airport over a period of 12 months 
flight_patterns <- flights_mod |>
  group_by(origin, month) |>
  summarise(avg_flights = n() / length(unique(day)), .groups = "drop")

airport_avg_flight_month <- ggplot(flight_patterns, aes(x = month, y = avg_flights, color = origin, group = origin)) +
  geom_line() +
  labs(title = "Average Flight Patterns from Airport by Month", x = "Month", y = "Average Number of Flights")

# Looking at carriers departing from airports over a period of 12 months 
flights_with_airlines <- flights_mod |>
  left_join(airlines, by = "carrier")

carrier_variation <- flights_with_airlines |>
  group_by(origin, name, month)

airport_carriers_month <- ggplot(carrier_variation, aes(x = name, y = month, fill = name)) +
  geom_bar(stat = "identity", position = "dodge", show.legend = FALSE) + 
  facet_wrap(~origin) +
  coord_flip() +
  labs(title = "Variation of Carriers Departing from Airports", x = "Carrier", y = "Number of Flights")

# Plots
  airport_avg_delay
  airport_cancelled_month
  airport_avg_flight_month
  airport_carriers_month
```

#### Summary: 
1: When looking at the Average Flight Delays we can see that Newark Liberty Airport (EWR) has the highest flight delays averaging at 15 minutes, followed by John F. Kennedy Airport (JFK) and LaGuardia Airport (LGA). Based on this information, further investigation into potential causes like weather and airline operations could provide more information concerning the delays at EWR. 

2. When looking at cancelled flights by airport and month, distinct patterns emerge for EWR, JFK, and LGA. EWR experiences a higher frequency of cancellations throughout the year, with notable peaks in February, March, and December. This may be attributed to winter weather and holiday congestion. JFK generally has fewer cancellations, expect for a significant spike in February, this may also be weather-related as this pattern is seen in EWR. LGA shows variability in cancellations, with higher instances during the summer months and December, possibly influenced by seasonal weather and holiday travel. These patterns suggest that weather conditions and holiday would be worth investigating to better understand their effects on flight delays. 

3. The line plot illustrating average flight patterns by month reveals distinct seasonal trends for each airport. EWR exhibits a significant peak in April, averaging 350 flights, followed by a gradual decrease for the remainder of the year. JFK displays more fluctuation throughout the year, with its highest average number of flights, just under 325, occurring during the summer months, followed by a decrease and a slight uptick during the holiday season. LGA, while experiencing the lowest overall flight numbers, shows a gradual incrase with a peak in October, followed by a decline. These patterns may suggest that EWR and JFK, as international airports, are more influenced by seasonal travel trends, whereas LGA, with its domestic focus, shows a more consistent traffic flow.

4. The bar chart shows the distribution of flights by carrier for each airport. EWR and JFK have a variety of carriers, while LGA shows a more concentrated distribution with fewer carriers. The variety of carriers at EWR and JFK may contribute to increased operational complexity and may potentially lead to higher delays. While LGA's more concentrated carriers might allow for efficient operations, however this isn't the case as LGA experienced a higher number of cancelled flights. This would be interesting to investigate is it implies that factors other than weather, such as operational or logistical challenges, could be influencing flight delays and cancellations. 

\newpage

# Analysis Approach Plan

**Assumptions:** All variables are independent

The process of analysis will involve data cleaning after forming our question, basic exploration of the data, comparison of certain datasets with other datasets, visualization of the data, and an interpretation of the data/results. Cleaning of the data will deal with tasks like handling empty cells/columns and NA values. When it comes to exploratory data analysis, we plan on using tools such as histograms and boxplots to gain an understanding of the data and identify patterns and relationships. The statistical analysis that we plan on performing with the data will most likely involve making comparisons between groups to compare airlines, times, and other metrics to make our overall claim. For example, we might be comparing trends in time performance by weeks or month between different airlines to gain a better understanding of how differences in airlines affect delays. In terms of data visualization, we will most likely be using line graphs for trends over time when it comes to comparing flight time under different variables and heatmaps/scatterplots for flight delays to help communicate our findings. Finally, interpretation of the data will involve us answering the proposed question by summarizing our statistics/findings as well as through the presentation of graphical evidence.

# Analysis:

### Question 1: How do weather conditions affect flight delays?

### 1. Are specific weather variables (e.g., precipitation, temperature, humidity) correlated with arrival delays?

```{r}

head(weather)
head(flights)

not_canceled <- filter(flights, !is.na(dep_delay), !is.na(arr_delay))
head(not_canceled)

```

join columns of weather and uncancelled flights

```{r}

flights_weather <- left_join(not_canceled, weather, by = c("year", "month", "day", "hour", "origin"))

flights_weather <- flights_weather |>
  filter(!is.na(dep_delay))
flights_weather

```

Temperature by month and departure delays

```{r, warning = FALSE}

#mutate to month 
f_w_by_month <- flights_weather |>
  mutate(month = factor(month, levels = 1:12, labels = month.name))

ggplot(f_w_by_month, aes(x = temp, y = dep_delay)) + 
  geom_point() +
  facet_wrap(~ month, ncol = 3)

ggplot(f_w_by_month, aes(x = temp, y = dep_delay)) +
  geom_bar(stat = "identity")

```

Humidity by month and departure delays

```{r, warning = FALSE}

ggplot(f_w_by_month, aes(x = humid, y = dep_delay)) + 
  geom_point() +
  facet_wrap(~ month, ncol = 3)

ggplot(f_w_by_month, aes(x = humid, y = dep_delay)) +
  geom_bar(stat = "identity")

```

Precipitation by month and departure delays

```{r, warning = FALSE}

ggplot(f_w_by_month, aes(x = precip, y = dep_delay)) + 
  geom_point() +
  facet_wrap(~ month, ncol = 3)

ggplot(f_w_by_month, aes(x = precip, y = dep_delay)) +
  geom_bar(stat = "identity")

```

```{r}

weather_vars <- f_w_by_month |>
  dplyr::select(temp, wind_speed, precip, visib, dep_delay)

#filter out extreme
weather_vars <- filter(weather_vars, dep_delay <= 300)
cor(weather_vars, use = "complete.obs")

summary(f_w_by_month$precip)

```

-   Visibility and departure delay has the weakest negative correlation

-   Strongest positive linear relationship is between precipitation and departure delay

Time Series (Precipitation and Departure Delay)

```{r, warning = FALSE}

daily_data <- f_w_by_month |>
  group_by(year, month, day) |>
  summarise(
    mean_delay = mean(dep_delay, na.rm = TRUE),
    mean_temp = mean(temp, na.rm = TRUE),
    mean_humid = mean(humid, na.rm = TRUE),
    mean_precip = mean(precip, na.rm = TRUE),
    .groups = "keep"
  )

#make the date column 
daily_data <- mutate(daily_data, 
                     monthly_num = match(month, month.name),
                     date = as.Date(paste(year, monthly_num, day, sep = "-")))

#delays and weather variables over time
ggplot(daily_data, aes(x = date)) +
  geom_line(aes(y = mean_delay, color = "Delay")) +
  geom_line(aes(y = mean_temp, color = "Temperature")) +
  scale_y_continuous(sec.axis = sec_axis(~., name = "Temperature (F)")) +
  labs(title = "Daily Average Delay vs. Temperature", y = "Delay (mins)") +
  theme_minimal()

ggplot(daily_data, aes(x = date)) +
  geom_line(aes(y = mean_delay, color = "Delay")) +
  geom_line(aes(y = mean_humid, color = "Humidity")) +
  scale_y_continuous(sec.axis = sec_axis(~., name = "Relative Humidity")) +
  labs(title = "Daily Average Delay vs. Humidity", y = "Delay (mins)") +
  theme_minimal()

ggplot(daily_data, aes(x = date)) +
  geom_line(aes(y = mean_delay, color = "Delay")) +
  geom_line(aes(y = mean_precip, color = "Precipitation")) +
  scale_y_continuous(sec.axis = sec_axis(~., name = "Inches")) +
  labs(title = "Daily Average Delay vs. Humidity", y = "Delay (mins)") +
  theme_minimal()

```

Both variables rise and fall together for Temperature vs. Average Delay and Humidity vs. Average Delay. This suggests that there is a seasonal or temporal pattern and that a positive association exists. Since precipitation is mostly entered as 0, it will provide little variability for analysis.

Linear Regression Model

```{r}

#omit missing values
model_data <- flights_weather |>
  dplyr::select(arr_delay, precip, temp, humid, visib, carrier, origin, month, hour) |>
  filter(!is.na(arr_delay), !is.na(precip), !is.na(temp), !is.na(humid), !is.na(visib), !is.na(carrier), !is.na(origin), !is.na(month), !is.na(humid))

#linear regression model
lm_model <- lm(arr_delay ~ precip + temp + humid + visib + carrier + origin + month + hour, data = model_data)
summary(lm_model)

```

-   R^2 is 0.035, 8.35% of the variance in arrival delays is explained

-   p < 2.2e-16, model is statistically significant overall

-   Heavy precipitation has a strong, positive effect on delay, Estimate = +88.5

-   Temperature has a small, positive effect, Estimate = +0.055

-   Higher humidity is mildly associated with more delay

While predictive power is mild due to the large amount of noise in the delay data, this model provides useful insight into the impact of weather and delay factors. Since the model only explains 8.35% of the variance, it suggests that while weather has an impact on arrival delays, it only accounts for a small portion of the variance and a lot of other factors such as carrier, traffic, and other specific details relating to the plane contribute heavily to delays.

Cross-validation

```{r}

model_data <- na.omit(model_data)  
lm_model2 <- glm(arr_delay ~ precip + temp + humid + visib, data = model_data)

set.seed(167)
cv_results <- cv.glm(data = model_data, glmfit = lm_model2, K = 10)

cv_results$delta 

```

Linear model has a Root Mean Square Error of ~44 minutes, predictions are about 44 minutes off from the actual arrival delays.

Visualization

```{r}

ggplot(model_data, aes(x = precip, y = arr_delay)) +
  geom_point(alpha = 0.1) +
  geom_smooth(method = "lm", col = "blue") +
  labs(title = "Arrival Delay vs Precipitation")

ggplot(model_data, aes(x = temp, y = arr_delay)) +
  geom_point(alpha = 0.1) +
  geom_smooth(method = "lm", col = "blue") +
  labs(title = "Arrival Delay vs Temperature")

ggplot(model_data, aes(x = humid, y = arr_delay)) +
  geom_point(alpha = 0.1) +
  geom_smooth(method = "lm", col = "blue") +
  labs(title = "Arrival Delay vs Humidity")

```

Interpretation:

The noticeable upward slope indicates a positive linear relationship for precipitation and arrival delays. Since most points cluster near zero precipitation, the delay increase is mostly evident during heavy rainfall. The slope for delays and temperature is close to zero, and the distribution appears to be very even, suggesting that temperature has a very small impact, as evident in the summary of the model. Since less points cluster near the lower end of humidity, and there is a small but existing positive slope, higher humidity is mildly associated with more delay.

#### 2. How do extreme weather conditions (e.g. heavy precipitation, low visibility, cold temperature) impact the likelihood of severe delays (e.g. delays > 60 minutes)?

```{r}

flights_weather <- mutate(flights_weather, severe_delay = arr_delay > 60)

#create extreme weather vars and conditions
flights_weather <- flights_weather |>
  mutate(
    extreme_precip = precip > 0.5,
    low_visib = visib < 1,
    high_wind = wind_speed > 20,
    cold_temp = temp < 32,
    high_temp = temp > 90,
    extreme_weather = extreme_precip | low_visib | high_wind | cold_temp | high_temp
  )

```

```{r}

#use glm for logistic regression
lm_severe <- glm(severe_delay ~ extreme_precip + low_visib + high_wind + cold_temp + high_temp, data = flights_weather, family = "binomial")
summary(lm_severe)

```

Flights in heavy rain are 4.66 times more likely to be severely delayed compared to flights without heavy precipitation. The odds of a severe delay is increased by a factor of 2.9 when low visibility (less than 1) is present in the case. In addition, high wind speed increases the odds of a severe delay by a factor of 1.45. Cold temperature seems to decrease the odds of a severe delay by 13%, and high temperature increases the odds of severe delays by 30%.

```{r}

#proportion chart of severity of weather and delay
flights_weather %>%
  ggplot(aes(x = extreme_weather, fill = severe_delay)) +
  geom_bar(position = "fill") +
  labs(y = "Proportion", title = "Proportion of Severe Delays by Weather Condition")

```

Extreme weather cases make up the majority of severely delayed flights. However, the difference between extreme weather cases and the non extreme weather cases is not overwhelming which further suggests the idea that weather only impacts arrival delays up to a certain point, and that other factors unrelated to weather explain a large chunk of the variance.

\newpage

### Question 2: How do differences between airlines influence flight delays?

To answer this question, we can explore factors such as airlines, engines,

#### 1. Do some airlines have more delays than others? 

$H_0$: All airlines have the same average delay. 

$H_A$: All airlines do not have the same average delay.

We can test this by comparing the means of the different airlines.

```{r, warning = FALSE}

flights_not_missing = flights %>%
  filter(!is.na(arr_delay))

flights_not_missing = flights_not_missing %>%
  left_join(airlines, by = "carrier")

top_airlines = flights_not_missing %>%
  count(name, sort = TRUE) %>%
  top_n(5) %>%
  pull(name)

flights_subset = flights_not_missing %>%
  filter(name %in% top_airlines)

# Testing assumptions before ANOVA
print("Levene Test for Equal Variances: ")
leveneTest(arr_delay ~ name, data = flights_subset)

# Cannot use Shapiro-Wilk to test for normality due to large sample
# using ad test instead
ad.test(flights_subset$arr_delay)

length(flights_subset$arr_delay)

```

Before attempting to test our hypotheses with ANOVA, we check on the assumptions of equal variances and normality. Both are violated, but we can bypass the normality violation because of the large sample size. This means we can use a Welch Anova test instead of the regular Anova, which assumes that the variances are not equal.

```{r}

# Welch Anova Test
print("Welch Anova Test")
oneway.test(arr_delay ~ name, data = flights_subset, var.equal = FALSE)

# Games_howell in place of Tukey
flights_subset %>%
  games_howell_test(arr_delay ~ name)

```

The F statistic is extremely high, suggesting there is definitely a difference between means. We can reject our null. Since we are using Welch Anova, we can use the Games-Howell test in place of the Tukey test to observe the differences between each airline.

The results from the Games-Howell test show us that there is a stark difference between the means of each airline (0 does not exist within any confidence interval and the p-values are very low). So to answer our question: yes, some airlines have more delays than others.

#### 2: Does arrival delay vary between different engine types?

$H_0$: Arrival delay does not vary between different engine types. 

$H_A$: Arrival delay does vary between different engine types.

We can use ANOVA to compare different engine types. However, we first need to test the assumptions.

```{r, warning = FALSE}

flights_engines = flights %>%
  filter(!is.na(arr_delay)) %>% 
  left_join(planes, by = "tailnum") %>%
  filter(!is.na(engine)) 

table(flights_engines$engine)

# Testing assumptions before ANOVA
print("Levene Test for Equal Variances: ")
leveneTest(arr_delay ~ engine, data = flights_engines)

# Cannot use Shapiro-Wilk to test for normality due to large sample
# using ad test instead
ad.test(flights_engines$arr_delay)

```

By testing the assumptions of equal variances and normality, we can see that both assumptions are violated. However, due to the large sample size, we can bypass the normality assumption. We can therefore use the Welch ANOVA test to account for the unequal variances.

```{r}

oneway.test(arr_delay ~ engine, data = flights_engines, var.equal = FALSE)

flights_engines %>%
  games_howell_test(arr_delay ~ engine)

```

The results from the Games-Howell test show us that most of the different engine types do not have a different mean arrival delay. However, there is a difference between turbo-fan vs turbo-jet engines. This suggests that for most engine types, arrival delay does not vary significantly between engines. We can check the most common type of engine for each airlines.

```{r}

flights_engines_named = flights_engines %>%
  left_join(airlines, by = "carrier")

# Find most common engine type per airline
most_common_engines = flights_engines_named %>%
  group_by(name, engine) %>%
  summarise(count = n(), .groups = "drop") %>%
  arrange(name, desc(count)) %>%
  group_by(name) %>%
  slice(1) 

most_common_engines

```

It looks like all the airlines mostly use Turbo-fan engines, which means we don't have much evidence to connect different engine types with the arrival delays of different airlines. We fail to reject the null hypothesis.

#### 3: Does cancellation rate vary across airlines?

$H_0$: Cancellation rate is the same across all airlines. 

$H_A$: Cancellation rate differs between at least some airlines.

We can use a chi-squared test to check our hypotheses.

```{r}

flights_cancel = flights %>%
  mutate(cancelled = is.na(dep_time)) %>%
  left_join(airlines, by = "carrier")

cancel_table = table(flights_cancel$name, flights_cancel$cancelled)
cancel_table

chisq_test_result = chisq.test(cancel_table)
chisq_test_result

```

Since the p-value is low, we can say that there is evidence that cancellation rate does vary across different airlines and we can reject the null hypothesis.

#### 4: Does speed vary across airlines?

$H_0$: Mean speed is the same across all airlines. 

$H_A$: At least one airline has a different mean speed from the others.

We can test this using ANOVA, first checking assumptions of normality and equal variances.

```{r, warning = FALSE}

flights_speed = flights %>%
  filter(!is.na(air_time), air_time > 0, !is.na(distance)) %>%
  mutate(speed = distance / (air_time / 60)) %>% 
  left_join(airlines, by = "carrier")

# Testing equal variances with Levene's
leveneTest(speed ~ name, data = flights_speed)

# Testing for normality with ad test
ad.test(flights_speed$speed)

```

Like the previous questions, we can bypass normality and use a Welch ANOVA test for unequal variances.

```{r}

oneway.test(speed ~ name, data = flights_speed)

flights_speed %>%
  games_howell_test(speed ~ name)

```

The results show us that there is a drastic evidence to show a difference between speed for every airline. All the p-values are below 0.05, so we can reject the null hypothesis and say that speed does vary across different airlines. We can further see how speed interacts with flight delays by testing the correlation.

First, we can see how speed affects delays by each airline.

```{r, warning = FALSE}

speed_delay_summary = flights_speed %>%
  filter(!is.na(arr_delay)) %>%
  group_by(name) %>%
  summarise(
    avg_speed = mean(speed, na.rm = TRUE),
    avg_arr_delay = mean(arr_delay, na.rm = TRUE)
  )

speed_delay_summary

cor.test(speed_delay_summary$avg_speed, speed_delay_summary$avg_arr_delay)

ggplot(speed_delay_summary, aes(x = avg_speed, y = avg_arr_delay, label = name)) +
  geom_point() +
  geom_text(nudge_y = 2, size = 3) +
  geom_smooth(method = "lm", se = FALSE) +
  labs(title = "Average Speed vs. Arrival Delay by Airline",
       x = "Average Speed (mph)",
       y = "Average Arrival Delay (min)")


```

This correlation confidence interval does not include 0 but it does come close, and it shows us that the correlation between speed and delay by airline is about -0.529. This suggests that airlines with more speed have less delay. Note that there are some outliers, since we only have a few different airlines to observe.

To provide some insight into our overall findings, we found that: (1) Different airlines have different delays on average, (2) Engine type does not seem to vary across airlines, and it doesn't seem to have a significant impact on delays, (3) Average cancellation rates vary between airlines, and (4) Airlines with faster mean speeds tend to experience lower arrival delays on average.

\newpage

### Question 3. Are delays more frequent during major holidays?

$H_0$: There is no difference in the distribution of arrival delays during major holidays compared to other days.

$H_1$: Arrival delays are different during major holidays compared to other days.

```{r}

#identifying holiday periods
holidayDates<- as.Date(c(
  "2013-11-27",  #day before thanksgiving 
  "2013-11-28",  #thanksgiving 2013
  "2013-12-24",  #day before christmas
  "2013-12-25",  #christmas 2013
  "2014-12-31",  #new years eve
  "2014-01-01"   #new years 2014
))

flights_holiday<-flights|>
  mutate(holiday_flag=ifelse(as.Date(time_hour) %in% holidayDates, "Holiday Period", "Non-Holiday"))|>
  filter(!is.na(arr_delay))

table(flights_holiday$holiday_flag)

```

Departure Delays

```{r}

ggplot(flights_holiday, aes(x=holiday_flag, y=dep_delay, fill= holiday_flag))+
  geom_boxplot(outlier.size = 0.5, alpha=0.7)+
  labs(title= "Departure Delay Distributions: Holiday Period vs. NonHoliday Flights",
       x="", y="Departure Delay (minutes)")+
  theme(legend.position = "none")

```

```{r}

set.seed(707)
normality_test<-flights_holiday|> #normality test per group
  group_by(holiday_flag)|>
  summarise(sample_delays= list(sample(dep_delay, min(5000,n()), replace = FALSE)),
            shapiro_p = shapiro.test(unlist(sample_delays))$p.value)|>
  ungroup()|>
  dplyr::select(holiday_flag, shapiro_p)
print(normality_test)

flights_holiday$holiday_flag<-as.factor(flights_holiday$holiday_flag)

leveneTest(dep_delay~holiday_flag, data=flights_holiday)#levenes test for homogeneity of variance

holiday_test<-wilcox.test(dep_delay~holiday_flag, data=flights_holiday)#Wilcoxon Rank Sum Test
print(holiday_test)

cat("Wilcoxon test p-value: ", signif(holiday_test$p.value,4))

```

Departure Conclusion: Departure delays has a low p-value for both holiday and non holiday periods which means that the distributions are not normal in either group, this leads us to use a non-parametric test such as the Levene test and Wilcoxon rank sum test. For departure delays, the Levene's test p=0.4355 which is not significant meaning that variances are roughly equal between holiday and non holiday groups for departure delays. The Wilcoxon Rank Sum test p-value is approximately $7.33 \times 10^{-10}$ which is significant and allows us to conclude that departure delays are significant between holiday and non holiday periods.

#Arrival Delays

```{r}

ggplot(flights_holiday, aes(x=holiday_flag, y=arr_delay, fill= holiday_flag))+
  geom_boxplot(outlier.size = 0.5, alpha=0.7)+
  labs(title= "Arrival Delay Distributions: Holiday Period vs. NonHoliday Flights",
       x="", y="Arrival Delay (minutes)")+
  theme(legend.position = "none")

```

```{r}

set.seed(707)
normality_test<-flights_holiday|> #normality test per group
  group_by(holiday_flag)|>
  summarise(sample_delays= list(sample(arr_delay, min(5000,n()), replace = FALSE)),
            shapiro_p = shapiro.test(unlist(sample_delays))$p.value)|>
  ungroup()|>
  dplyr::select(holiday_flag, shapiro_p)
print(normality_test)

flights_holiday$holiday_flag<-as.factor(flights_holiday$holiday_flag)

leveneTest(arr_delay~holiday_flag, data=flights_holiday)#levenes test for homogeneity of variance

holiday_test<-wilcox.test(arr_delay~holiday_flag, data=flights_holiday)#Wilcoxon Rank Sum Test
print(holiday_test)

cat("Wilcoxon test p-value: ", signif(holiday_test$p.value,4))

```

Arrival Conclusion: Arrival delays has a low p-value for both holiday and non holiday periods which means that the distributions are not normal in either group, this leads us to use a non-parametric test such as the Levene test and Wilcoxon rank sum test. For arrival delays, the Levene's test p=0.04781 which indicates that the variance differs significantly between holiday and non holiday groups for arrival delays. The Wilcoxon Rank Sum test p-value is ~7.33e-10 which is significant and allows us to conclude that departure delays are significant between holiday and non holiday periods.

Overall Conclusion: We can conclude that Departure and Arrival flight delays occur more frequently or are more severe during major holiday periods, defined as the day before and day of the holiday. The analysis shows that arrival delays increase and exhibit significantly greater variability during holiday times, indicating inconsistent and unpredictable arrival times around major holidays. Although departure delays show similar mean increases during holidays, the variance remains stable suggesting that delays at departure are consistently worse but not erratic. This analysis highlights the operational challenges airlines and airports face during major holidays, emphasizing the need for planning and resource allocations to mitigate such delays during holiday periods.

\newpage

### Question 4: Does the age of the plane affect flight delays?

Within this main question we will perform hypothesis tests to answer the two following sub-questions:

#### 1. Do older planes experience more delays compared to newer ones?

$H_0$: There is no difference in the distribution of arrival delays across the different plane age groups.

$H_1$: At least one plane age group has a different distribution of arrival delays compared to the others.

```{r}

# Join flights with planes to get plane manufacture year
planes_fixed <- planes %>%
  rename(plane_year = year)

flights_planes <- flights %>%
  inner_join(planes %>% rename(plane_year = year), by = "tailnum") %>%
  filter(!is.na(plane_year), !is.na(arr_delay)) %>%
  mutate(
    plane_age = 2013 - plane_year,
    age_group = case_when(
      plane_age < 10 ~ "0-9 yrs",
      plane_age < 20 ~ "10-19 yrs",
      plane_age < 30 ~ "20-29 yrs",
      TRUE ~ "30+ yrs"
    )
  )

head(flights_planes)

```

```{r, echo=FALSE}

ggplot(flights_planes, aes(x = age_group, y = arr_delay)) +
  geom_boxplot(fill = "skyblue") +
  labs(
    title = "Arrival Delay by Plane Age Group",
    x = "Plane Age Group",
    y = "Arrival Delay (minutes)"
  )

```

The boxplot shows that arrival delays are fairly similar across all plane age groups, with comparable medians and interquartile ranges. While each group has extreme outliers, there is no clear visual trend suggesting that older planes experience more delays than newer ones. We will run a hypothesis test to further our findings.

```{r}

flights_planes$age_group <- as.factor(flights_planes$age_group)

summary_stats <- flights_planes %>%
  group_by(age_group) %>%
  summarise(
    mean_delay = mean(arr_delay, na.rm = TRUE),
    count = n()
  )
print(summary_stats)

# Normality test with sample per group
set.seed(123)
normality_test <- flights_planes %>%
  group_by(age_group) %>%
  summarise(
    sample_delays = list(sample(arr_delay[!is.na(arr_delay)], min(5000, n()), replace = FALSE)),
    shapiro_p = shapiro.test(unlist(sample_delays))$p.value
  ) %>%
dplyr::select(-sample_delays)
print(normality_test)

# Levene's Test for homogeneity of variances
leveneTest(arr_delay ~ age_group, data = flights_planes)

# Since homogeneity is violated, run Kruskal-Wallis test (non-parametric)
kruskal.test(arr_delay ~ age_group, data = flights_planes)

# post-hoc test for Kruskal-Wallis (Dunn test) if significant
dunn.test(flights_planes$arr_delay, flights_planes$age_group, method = "bonferroni")

```

The Kruskal-Wallis test revealed a highly significant difference in arrival delays across plane age groups (p < 2.2e-16), indicating that at least one group’s delay distribution differs from the others. Post-hoc pairwise comparisons using Dunn’s test with Bonferroni correction showed that planes aged 20–29 years experience significantly different delay patterns compared to both the 0–9 and 10–19 year groups (adjusted p-values < 0.001). Additionally, planes aged 30+ years differ significantly from the 20–29 year group (adjusted p = 0.0002), but do not differ significantly from the younger 0–9 or 10–19 year groups. The difference between the 10–19 and 0–9 year groups was borderline significant (adjusted p = 0.0495). In summary, planes aged 20–29 years tend to have notably different arrival delays compared to most other age groups, highlighting a possible link between this age range and on-time performance issues.


#### 2. Are there specific plane models or manufactures associated with better on-time performance?

$H_0$: There is no difference in the distribution of arrival delays across different plane models or manufacturers.

$H_1$: At least one plane model or manufacturer has a different distribution of arrival delays compared to the others.

```{r}

flights_manufacturer <- flights %>%
  inner_join(planes, by = "tailnum") %>%
  filter(!is.na(manufacturer), !is.na(arr_delay)) %>%
  group_by(manufacturer) %>%
  filter(n() > 50)

```

```{r, echo=FALSE}

ggplot(flights_manufacturer, aes(x = reorder(manufacturer, arr_delay, FUN = median), y = arr_delay, fill = manufacturer)) +
  geom_boxplot(outlier.size = 0.5, alpha = 0.7) +
  coord_flip() +   # horizontal for readability
  labs(
    title = "Arrival Delay Distribution by Plane Manufacturer",
    x = "Manufacturer",
    y = "Arrival Delay (minutes)"
  )

```

```{r}

# filter manufacturers with more than 50 flights
flights_manufacturer <- flights %>%
  inner_join(planes, by = "tailnum") %>%
  filter(!is.na(manufacturer), !is.na(arr_delay)) %>%
  group_by(manufacturer) %>%
  filter(n() > 50) %>%
  ungroup()

flights_manufacturer$manufacturer <- as.factor(flights_manufacturer$manufacturer)

# Normality test per manufacturer group
set.seed(123)
normality_test <- flights_manufacturer %>%
  group_by(manufacturer) %>%
  summarise(
    sample_delays = list(sample(arr_delay, min(5000, n()), replace = FALSE)),
    shapiro_p = shapiro.test(unlist(sample_delays))$p.value
  ) %>%
dplyr::select(-sample_delays)
print(normality_test)

# Levene's Test for homogeneity of variance
leveneTest(arr_delay ~ manufacturer, data = flights_manufacturer)

# Kruskal-Wallis test 
kruskal_result <- kruskal.test(arr_delay ~ manufacturer, data = flights_manufacturer)
print(kruskal_result)

if (kruskal_result$p.value < 0.05) {
  dunn_output <- capture.output(
    dunn_result <- dunn.test(
      flights_manufacturer$arr_delay,
      flights_manufacturer$manufacturer,
      kw = FALSE,
      list = TRUE,
      rmc = FALSE,
      alpha = 0.05
    )
  )
  
  sig_comparisons <- data.frame(
    comparison = dunn_result$comparisons,
    p_value = dunn_result$P.adjusted
  ) %>% 
    filter(p_value < 0.05) %>%
    arrange(p_value) %>%
    slice_head(n = 5) %>%  # Show only top 5
    mutate(p_value = signif(p_value, 4))  # Optional: round p-values
  
  cat("Kruskal-Wallis p-value:", signif(kruskal_result$p.value, 4), "\n")
  cat("Significant differences found. Top 5 manufacturer pairs with different arrival delays:\n\n")
  print(sig_comparisons, row.names = FALSE)
  
} else {
  cat("Kruskal-Wallis p-value:", signif(kruskal_result$p.value, 4), "\n")
  cat("No significant differences found among manufacturers.\n")
}

```

The Kruskal-Wallis test indicates a highly significant difference in arrival delays across plane manufacturers ($\chi^2$
 = 3770.9, df = 21, p \< 2.2e-16). This strongly suggests that not all manufacturers have the same on-time performance. The post-hoc Dunn's test with Bonferroni correction highlights specific pairwise differences. Notably, comparisons involving Embraer show consistently significant differences with Airbus Industrie, Boeing, Bombardier Inc, and McDonnell Douglas, indicating that Embraer aircraft tend to have distinct arrival delay patterns compared to these manufacturers. Additionally, Airbus and McDonnell Douglas pairs also appear among the most significant differences. These results indicate that certain manufacturers, especially Embraer, are associated with notably different arrival delay profiles, reflecting differences in punctuality or operational factors across manufacturers.

\newpage

# Conclusion

#### Overall Summary of Findings

- **RQ1:** Weather conditions, especially heavy precipitation and extreme weather events, significantly contribute to flight delays.
- **RQ2:** Flight delays differ significantly between airlines, influenced by factors like cancellation rates and operational speed.
- **RQ3:** Delays increase and become more variable during major holiday periods, impacting both departures and arrivals.
- **RQ4:** The age and manufacturer of aircraft play a significant role, with older planes and certain manufacturers experiencing more delays.
- **RQ5:** Environmental factors such as humidity, visibility, and wind direction also affect delays, though their impact varies across different airports.

#### Discussion

Flight delays are influenced by multiple interrelated factors including weather, aircraft characteristics, holidays, and airport-specific conditions. This analysis provides valuable insights that can help stakeholders identify key areas for improving on-time performance and reduce delays at airports.

#### Limitations

- Prediction accuracy is limited by the lack of detailed air traffic control data and potential confounding variables.
- The weather dataset does not include extreme weather event details like thunderstorms or snowstorms.
- The analysis relies on 2013 data, which may not fully capture longer-term trends or recent changes.

#### Looking Ahead

- Future work should incorporate additional data such as aircraft maintenance records and air traffic control metrics, including employee retention and turnover rates.
- Developing strategies to mitigate delays during extreme weather and peak holiday seasons will help minimize disruptions.
- Infrastructure improvements at airports should be advocated to support smoother operations.
- Further investigation into human factors, such as pilot decision-making and employee well-being, could shed light on additional causes of delays.

# Team Member Contributions

- **Shreya**: Planes Dataset EDA & Analysis Question #4  
- **Kalyani**: Weather Dataset EDA & Analysis Question #2  
- **Karen**: Flights Dataset EDA & Analysis Question #3  
- **Crystal**: Airports Dataset EDA & Analysis Question #5  
- **Mason**: Analysis Question #1

# Alternative Strategies & Back Up Plan:

As a backup idea, we are planning on seeing if there is any correlation between the amount of delays present in the different airports. Our data deals with the airports EWR, JFK, and LGA which are all different airports within New York City. Our first question is to figure out if the JFK airport has a different amount of delays compared to LGA or EWR if there is a higher amount of precipitation in the JFK area. Although all the airports are in New York, within the different areas of the city, there can be different amounts of precipitation and rainfall that occur. Our second question is to decide whether the different airports have different models of planes and if the difference affects the amounts of delays. For example if a plane is older or a different configuration, does that lead to more delays due to cleaning or maintenance? And lastly, our third question is whether the three different airports have different airlines coming in and out and if these differing airlines affect the amount of delays present on a given day. For example, if Delta services one airport and not another, does that increase or decrease the amount of total delays for an airport. These questions can be further investigated if our first set of questions are not approved or if we need more content to explore within our project. These sets of backup questions will further explore the flight data we have.
